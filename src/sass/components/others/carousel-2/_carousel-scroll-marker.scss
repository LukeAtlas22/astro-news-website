@use "sass:map";
@use "../../../abstracts/" as *;
@use "tokens" as *;

.carousel__container {
  @include Breakpoint-Map--Retrive-Multiple-Properties(
    $Map: $carousel-navigation, 
    $props-map: (
      (
        prop-name: marker-style,
        as: --scroll-marker-style,
      ),
    ));
}

.carousel__slide::scroll-marker{
  @include pseudo;
  width: var(--scroll-marker-size);
  height: var(--scroll-marker-size);
  flex-shrink: 0;

  // █▀▄ ██▀ █▀ ▄▀▄ █ █ █   ▀█▀ 
  // █▄▀ █▄▄ █▀ █▀█ ▀▄█ █▄▄  █  

  @include apply-declarations($from: map.get($carousel-scroll-marker-styles, default));
}


// ▄▀▀ █   █ █▀▄ ██▀    █ █▄ ▄█ ▄▀▄ ▄▀  ██▀ 
// ▄█▀ █▄▄ █ █▄▀ █▄▄    █ █ ▀ █ █▀█ ▀▄█ █▄▄ 

@if (true){ // Todo - Need to fix those ifs
  @container --carousel-container style(--scroll-marker-style: slide-image) {
    @include apply-background-image-on-sequence-of-child(
      $childs-selector: '.carousel__slide',
      $childs-pseudo-element: '::scroll-marker',
      $childs-number: 7,
      $images-path: map.get($carousel-scroll-marker-styles, slide-image-path),
      $images-path-ending-divisor: map.get($carousel-scroll-marker-styles, divisor),
      $images-ext: map.get($carousel-scroll-marker-styles, ext),
    );
    @include apply-declarations(
      $on: '.carousel__slide::scroll-marker', 
      $from: map.get($carousel-scroll-marker-styles, slide-image))
  }
}


// ▄▀▀ ▄▀▄ █ █ █▄ █ ▀█▀ ██▀ █▀▄    █▄ █ █ █ █▄ ▄█ ██▄ ██▀ █▀▄ 
// ▀▄▄ ▀▄▀ ▀▄█ █ ▀█  █  █▄▄ █▀▄    █ ▀█ ▀▄█ █ ▀ █ █▄█ █▄▄ █▀▄ 

@if (true){ // Todo - Need to fix those ifs
  @container --carousel-container style(--scroll-marker-style: counter-numbers){
    .carousel__slide::scroll-marker{
      content: counter(carousel-slide-counter);
      @include flex-center;
      @include apply-declarations($from: map.get($carousel-scroll-marker-styles, counter-numbers));
    }
  }
}


