@use "sass:map";
@use "sass:meta";
@use "utils/media-query" as *;
// Note - Da qualche parte mi servir√† una function validate breakpoint / media query

/// Allows you to extrapolate a single value from every breakpoint of a breakpoint-map | Then, you can assign this values, (responsively) to a CSS-Variable | If a breakpoint doesn't not meant to have the property, then, it doesn't make anything for that specific breakpoint.
/// @param {type} $Map - A breakpoint only map - Every breakpoint of the map contains a list of key-value pair. 
/// @param {type} $CSS-Variable - The custom property on which you want to assign the different values, for the different breakpoint
/// @param {type} $Map-Key-of-CSS-Variable-value -
/// @output 
@mixin VerbName-Single-CSS-Variable($Map, $CSS-Variable, $Map-Key-of-CSS-Variable-value){
  // Note - Migliorare il nome
  // Todo - Error handling : validate custom property

  @if (meta.type-of($Map) != 'map') { @error ($Map, ' is not a breakpoint map !') };

  @each $breakpoint, $props-map in $Map{
    @if (map.get($props-map, $Map-Key-of-CSS-Variable-value)){
      @if ($breakpoint == default){
        #{$CSS-Variable}: map.get($props-map, $Map-Key-of-CSS-Variable-value); 
      }
      @else {
        @include Media-Query(#{$breakpoint}) {
          #{$CSS-Variable}: map.get($props-map, $Map-Key-of-CSS-Variable-value);
        } 
      }
    }
  }
}