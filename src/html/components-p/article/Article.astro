---

import type { CollectionEntry } from 'astro:content';
import { getArticleTemplate } from './typescript/utils/getArticleTemplate';
import Borders from '@components-p/fancy-borders/Borders.astro';

interface Props {
  /**
   * The article itself, taken from a CMS, or a file.
   */
  entry: CollectionEntry<'article'>, // Qui dovrebbe essere entry, perch√® ogni article vuole consumare 1 entry.

  type: 'News' | 'BlogPost' | 'Recipe', // ?

  /**
   * The markdown & style template you want to assign to this article - Can only be what's inside this folder: src\html\components-p\article\templates
   */
  template: string,
  /**
   * Some specific template, directive - That can make very tiny changes to a specific template - Only use it if you have one unique alteration of a well-established template - In any other case prefer the creation of a new template !
   */
  templateDirectives?: string,
}

const {entry, type, template, templateDirectives} = Astro.props;
const ArticleTemplate = await getArticleTemplate(type, template);  
---


<article class="article" data-style-template={template}>  <!-- This data-attribute will be use also as style modificator -->
  <ArticleTemplate 
  entry={entry} 
  templateDirectives={templateDirectives} 
  />
</article>